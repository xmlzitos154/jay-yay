#!/bin/bash

## This program is made to simplefy the YAY AUR HELPER command
## Ver. 0.2.5


## -- The Actual Code -- ##

LOG_FILE=$HOME/.cache/joylog.txt
touch $HOME/.cache/joylog.txt

clear
read -p "What you want to do?: " DO

if [[ "$DO" == "install" ]]; then
DO="S"
LOGGER="[INSTALLED]"
SR="1"
fi

if [[ "$DO" == "uninstall" ]]; then
DO="Rsn"
LOGGER="[REMOVED]"
SR="1"
fi

if [[ "$DO" == "update" ]]; then
DO="U"
LOGGER="[UPDATED]"
SR="1"
fi

if [[ "$DO" == "refresh" ]]; then
DO="Syy"
LOGGER="[REFRESHED REPOS]"
SR="0"
fi

if [[ "$DO" == "refdate" ]]; then
DO="Syyu"
LOGGER="[REFRESHED REPOS AND UPDATED]"
SR="0"
fi

if [[ "$DO" == "help" ]]; then

    echo -e "HELP:\n"
    echo "$ install    (Sync)"
    echo "$ uninstall  (Remove)"
    echo "$ update     (Update)"
    echo "$ refresh    (Refresh)"
    echo "$ update     (Update system)"
    echo "$ refdate    (Refresh and Update system)"
    echo
    echo "$ logs       (Show old Syncs log)"
    echo "$ clear-log  (Clear old Syncs log)"
    echo
    read -p "Press Enter to continue..."
    exec "$0"
fi

if [[ "$DO" == "logs" ]]; then
cat $LOG_FILE
read -p "Press Enter to continue..."
exec "$0"
fi

if [[ "$DO" == "clear-log" ]]; then
rm $LOG_FILE
read -p "Done..."
exec "$0"
fi



if [[ "$SR" == "1" ]]; then
read -p "What program you want do Modify?: " PROG
yay -$DO $PROG --noconfirm
FINAL_LOG="$LOGGER $PROG"
echo $FINAL_LOG >> $LOG_FILE
echo "" >> $LOG_FILE
fi

if [[ "$SR" == "0" ]]; then
yay -$DO $PROG --noconfirm
FINAL_LOG="$LOGGER"
echo $FINAL_LOG >> $LOG_FILE
echo "" >> $LOG_FILE
fi

## -- END --
